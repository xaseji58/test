<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LiveMatch Admin</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <div class="login" id="loginView">
      <h2>Admin Login</h2>
      <input id="usernameInput" placeholder="Username" />
      <input id="passwordInput" type="password" placeholder="Password" />
      <button id="loginBtn">Login</button>
      <p class="hint">Or set ADMIN_TOKEN and paste it as token=... in localStorage if you prefer token auth.</p>
    </div>

    <div class="panel hidden" id="panelView">
      <header>
        <h1>LiveMatch Admin</h1>
        <button id="logoutBtn">Logout</button>
      </header>

      <nav>
        <button data-tab="categories" class="active">Categories</button>
        <button data-tab="channels">Channels</button>
        <button data-tab="streams">Streams</button>
        <button data-tab="events">Events</button>
        <button data-tab="eventStreams">Event Streams</button>
  <button data-tab="import">Import</button>
      </nav>

      <section id="tab-categories" class="tab active">
        <h2>Categories</h2>
        <form id="addCategoryForm">
          <input name="name" placeholder="Name" required />
          <input name="logo" placeholder="Logo URL" />
          <button type="submit">Add</button>
        </form>
        <table id="categoriesTable"></table>
      </section>

      <section id="tab-channels" class="tab">
        <h2>Channels</h2>
        <div class="row">
          <input id="channelsCategoryId" type="number" placeholder="Category ID" />
          <button id="loadChannelsBtn">Load</button>
        </div>
        <form id="addChannelForm">
          <input name="category_id" type="number" placeholder="Category ID" required />
          <input name="name" placeholder="Name" required />
          <input name="logo" placeholder="Logo URL" />
          <input name="priority" type="number" placeholder="Priority" />
          <label><input name="is_hide" type="checkbox" /> Hidden</label>
          <button type="submit">Add</button>
        </form>
        <table id="channelsTable"></table>
      </section>

      <section id="tab-streams" class="tab">
        <h2>Streams</h2>
        <div class="row">
          <input id="streamsChannelId" type="number" placeholder="Channel ID" />
          <button id="loadStreamsBtn">Load</button>
        </div>
        <form id="addStreamForm">
          <input name="channel_id" type="number" placeholder="Channel ID" required />
          <input name="name" placeholder="Name" />
          <input name="url" placeholder="Stream URL" required />
          <input name="url_type" type="number" placeholder="URL Type (e.g., 3)" />
          <input name="user_agent" placeholder="User Agent" />
          <input name="referer" placeholder="Referer" />
          <textarea name="headers" placeholder='Headers JSON e.g. {"User-Agent":"Mozilla/5.0"}'></textarea>
          <input name="drm" placeholder="DRM (optional)" />
          <button type="submit">Add</button>
        </form>
        <table id="streamsTable"></table>
      </section>

      <section id="tab-events" class="tab">
        <h2>Events</h2>
        <form id="addEventForm">
          <input name="start_time" type="number" placeholder="Start (epoch seconds)" required />
          <input name="end_time" type="number" placeholder="End (epoch seconds)" required />
          <input name="champions" placeholder="League/Champions" />
          <input name="commentary" placeholder="Commentator" />
          <input name="team1_name" placeholder="Team 1 Name" required />
          <input name="team1_logo" placeholder="Team 1 Logo" />
          <input name="team2_name" placeholder="Team 2 Name" required />
          <input name="team2_logo" placeholder="Team 2 Logo" />
          <input name="channel" placeholder="Display Channel" />
          <button type="submit">Add</button>
        </form>
        <table id="eventsTable"></table>
      </section>

      <section id="tab-eventStreams" class="tab">
        <h2>Event Streams</h2>
        <div class="row">
          <input id="eventStreamsEventId" type="number" placeholder="Event ID" />
          <button id="loadEventStreamsBtn">Load</button>
        </div>
        <form id="addEventStreamForm">
          <input name="event_id" type="number" placeholder="Event ID" required />
          <input name="name" placeholder="Name" />
          <input name="url" placeholder="Stream URL" required />
          <input name="url_type" type="number" placeholder="URL Type (e.g., 3)" />
          <input name="user_agent" placeholder="User Agent" />
          <input name="referer" placeholder="Referer" />
          <textarea name="headers" placeholder='Headers JSON'></textarea>
          <input name="drm" placeholder="DRM (optional)" />
          <button type="submit">Add</button>
        </form>
        <table id="eventStreamsTable"></table>
      </section>

      <section id="tab-import" class="tab">
        <h2>Import from External API</h2>
        <div class="row">
          <button id="importLoadCategoriesBtn">Load Categories</button>
          <input id="importCategoryId" type="number" placeholder="External Category ID" />
          <button id="importLoadChannelsBtn">Load Channels</button>
          <input id="importLocalCategoryId" type="number" placeholder="Local Category ID (dest)" />
          <input id="importEventId" type="number" placeholder="External Event ID" />
          <button id="importLoadEventBtn">Load Event</button>
          <button id="importLoadEventsBtn">Load Events</button>
        </div>
        <div class="row">
          <input id="importLocalEventId" type="number" placeholder="Local Event ID (dest)" />
          <button id="importAddEventStreamsBtn">Add Loaded Streams to Local Event</button>
        </div>
        <div id="importResults"></div>
      </section>

    </div>
  </div>
  <script src="/admin/main.js"></script>
</body>
</html>
